{
  replaceEmptyToConstantZeroIfNecessary(expression);
  Expression rightExpression=expression.getRightExpression();
  rightExpression.visit(this);
  ClassNode leftType=typeChooser.resolveType(expression.getLeftExpression(),node);
  ClassNode rightType=optimizeDivWithIntOrLongTarget(rightExpression,leftType);
  if (rightType == null)   rightType=typeChooser.resolveType(rightExpression,node);
  if (isPrimitiveType(leftType) && isPrimitiveType(rightType)) {
    if (rightExpression instanceof ConstantExpression) {
      opt.chainCanOptimize(true);
    }
 else {
      opt.chainShouldOptimize(true);
    }
    StatementMeta meta=addMeta(expression);
    ClassNode declarationType=typeChooser.resolveType(expression,node);
    meta.type=declarationType != null ? declarationType : leftType;
    opt.chainInvolvedType(leftType);
    opt.chainInvolvedType(rightType);
  }
}
